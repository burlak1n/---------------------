{
  "db": "sqlite",
  "tables": {
    "slots": {
      "columns": [
        { "name": "id", "type": "INTEGER", "primary_key": true, "not_null": true },
        { "name": "time", "type": "TEXT", "not_null": true },
        { "name": "place", "type": "TEXT", "not_null": true },
        { "name": "max_user", "type": "INTEGER", "not_null": true }
      ]
    },
    "users": {
      "columns": [
        { "name": "id", "type": "INTEGER", "primary_key": true, "not_null": true },
        { "name": "name", "type": "TEXT", "not_null": true },
        { "name": "email", "type": "TEXT", "not_null": true, "unique": true },
        { "name": "telegram_id", "type": "INTEGER", "unique": true }
      ]
    },
    "records": {
      "columns": [
        { "name": "id", "type": "INTEGER", "primary_key": true, "not_null": true },
        { "name": "user_id", "type": "INTEGER", "not_null": true },
        { "name": "slot_id", "type": "INTEGER" }
      ],
      "foreign_keys": [
        { "table": "users", "columns": ["user_id"], "references": { "table": "users", "columns": ["id"] } },
        { "table": "slots", "columns": ["slot_id"], "references": { "table": "slots", "columns": ["id"] } }
      ]
    },
    "allowed_users": {
      "columns": [
        { "name": "user_id", "type": "INTEGER", "primary_key": true, "not_null": true }
      ]
    }
  }
}
